"""
Defines our state machine and states, including transitions.
"""